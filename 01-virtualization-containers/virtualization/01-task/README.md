# Задача 2
Для высоконагруженной и критичной к отказу MySQL лучшим вариантом будут физические серверы, так как они обеспечивают минимальные задержки I/O, 
предсказуемую производительность, максимальный контроль над ресурсами и прямой доступ к ним. 
Отказоустойчивость достигается путем настройки 2-3 физических серверов для репликации БД.

Минусы:
* Дороже;
* Сложнее масштабировать.

Так же допустима и паравиртуализация. Чаще используется в настоящее время. Показывает достаточно высокую производительность при правильной настройки hypervisor. За счет драйверов общается с гипервизором минуя слои эмуляции.

Плюсы:
* Дешевле;
* Гибкость настройки и масштабируемость (легко создавать VM, делать бэкапы и миграции);
* Контроль ресурсов (ограничение или выделение дополнительных ресурсов CPU, RAM, дисков )
__________________________________________________________________________________________

Для различных web-приложений выбор платформы сильно зависит от вида приложений.

Если приложения высоконагруженные критичные к отказу, такие как онлайн-банкинг, платежные системы, торговые площадки, в таком случае лучше использовать физические серверы с максимальной производительностью.
Для средних/крупных web-приложений таких как CMS, CRM, SaaS-сервисы лучше использовать паравиртуализацию для хорошего баланса между производительностью и гибкостью, поддержка репликации, HA, snapshots.
Для лёгких веб-приложений/микросервисов не требующих сохранения состояний удобнее и проще всего использовать платформу виртуализации уровня ОС (Docker,LXC):

Плюсы:
* Быстрое развёртывание;
* Лёгкая масштабируемость (можно добавлять новые контейнеры без проблем);
* Экономия ресурсов (контейнеры «легче» виртуальных машин);
* Отлично подходит для Dev/Test и микросервисной архитектуры.
__________________________________________________________________________________________

Для Windows-системы для использования бухгалтерским отделом лучше всего использовать платформу паравиртализации cовместимую с Windows. 
В таких случаях чаще всего используют Hyper-V и VMware.

Плюсы:
* отличная совместимость и поддержка Windows;
* Снапшоты и бэкапы;
* Миграции;
* HA и отказоустойчивость;
* Изоляция бухгалтерии от других систем.

VMware - дорого, лицензии
Hyper-V - Менее удобный интерфейс, хуже работает с Linux (чем VMware)
____________________________________________________________________________________________

Для систем, выполняющие высокопроизводительные расчёты на GPU оптимальный выбор — физические серверы.

GPU-вычисления требуют:

* прямого доступа к видеокарте (PCIe);
* минимальных задержек;
* полного набора возможностей драйверов (CUDA, ROCm, NVML).

На физическом сервере GPU доступен без промежуточных слоёв, что даёт максимальную производительность.

# Задача 3

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.

Для 100 VM на смешанных ОС с автоматизацией резервного копирования, балансировкой и репликацией данных лучше всего подходит VMware vSphere (ESXi) с управлением через vCenter Server.

Тип виртуализации

Hypervisor (Type 1, bare-metal):
Устанавливается непосредственно на сервер, а не на ОС.
Обеспечивает высокую производительность и стабильность для большого количества виртуальных машин (100+).

Поддержка Windows и Linux

VMware ESXi отлично справляется с смешанными средами.
Позволяет одинаково легко запускать как Windows, так и Linux VM.

Управление и автоматизация

vCenter Server позволяет:
централизованное управление всеми VM;
автоматическое создание резервных копий (через vSphere Backup или сторонние решения);
настройку шаблонов VM для быстрой автоматизации развёртывания.

Балансировка нагрузки и репликация данных

VMware:
встроенные Software Load Balancers через NSX или сторонние решения;
vSphere HA и vMotion для автоматического распределения нагрузки и высокой доступности;
возможности репликации данных через vSAN, vSphere Replication.
____________________________________________________________________________________________________

2. Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.

Для небольшой инфраструктуры (20–30 серверов) на Linux и Windows с бесплатным и производительным решением оптимально использовать KVM с oVirt или Proxmox VE.
KVM — гипервизор, обеспечивающий производительность уровня bare-metal.
oVirt / Proxmox VE — бесплатные системы управления виртуализацией, обеспечивающие удобное управление, резервное копирование и миграцию VM.

Тип виртуализации

KVM — гипервизор уровня 1 (bare-metal), встроенный в Linux kernel.
Позволяет запускать Linux и Windows VM с высокой производительностью, близкой к физическому серверу.
Open source и бесплатный.

Система управления oVirt
Бесплатная система управления виртуализацией на базе KVM.

Позволяет:
* централизованно управлять всеми хостами и виртуальными машинами;
* создавать шаблоны VM и автоматизировать развертывание;
* резервное копирование и миграцию VM;
* распределение ресурсов CPU, RAM, хранилища.

Подходит для 20–30 серверов.

Система управления Proxmox VE
Ещё один бесплатный вариант с KVM (и контейнерами LXC).
Встроенный веб-интерфейс и CLI.

Поддержка:
* live migration;
* кластера;
* HA;
* резервного копирования VM.

Хорошо подходит для смешанной среды Linux/Windows.
___________________________________________________________________________________________________

3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры.

Для виртуализации Windows-инфраструктуры бесплатным, совместимым и производительным решением оптимально использовать Microsoft Hyper-V (Hyper-V Server):

* Позволяет запускать Windows VM с высокой производительностью;
* Бесплатная версия полностью функциональна для малых и средних инфраструктур;
* Поддерживает централизованное управление, резервное копирование и миграцию VM.

Тип виртуализации

Hyper-V — гипервизор уровня 1 (bare-metal), встроенный в Windows Server.
Позволяет запускать виртуальные машины Windows и Linux с высокой производительностью.
Предлагается в бесплатной версии Hyper-V Server.

Максимальная совместимость с Windows:
* Полная поддержка Windows Server и Windows Client VM.
* Встроенные интеграционные компоненты (Integration Services) для улучшенной работы сети, дисков и времени.

Высокая производительность:
* Доступ к CPU и RAM почти на уровне bare-metal.
* Поддержка виртуальных сетевых адаптеров с высокой пропускной способностью.

Управление и автоматизация

Бесплатная версия поддерживает:
* Hyper-V Manager для локального управления;
* Windows Admin Center или PowerShell для централизованного управления несколькими хостами.

Позволяет:
* создавать шаблоны VM;
* резервное копирование и экспорт VM;
* настройку виртуальных сетей и дисков;
* миграцию VM между хостами (Live Migration в рамках кластера Windows Server).
__________________________________________________________________________________________________

4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

Для тестовой среды с несколькими дистрибутивами Linux оптимально использовать KVM с Proxmox VE для серверного окружения или VirtualBox для локальной станции.

KVM/Proxmox VE — полноценно управляемые VM, удобные для тестов и масштабирования.
VirtualBox — простой, лёгкий вариант для локального тестирования.

Тип виртуализации
KVM — гипервизор уровня 1 (bare-metal) встроенный в Linux kernel.
Позволяет запускать несколько VM с разными дистрибутивами Linux на одном сервере с высокой производительностью.
Open source и бесплатный.

Система управления Proxmox VE
Бесплатная система управления виртуализацией на базе KVM.

Встроенный веб-интерфейс для:
* создания и управления VM;
* шаблонов виртуальных машин;
* snapshot’ов (контроль версий и откат);
* резервного копирования и восстановления VM.

Подходит для тестирования различных дистрибутивов Linux одновременно.

Система управления VirtualBox:
* Легковесная бесплатная система виртуализации;
* Идеальна для локальной тестовой среды на рабочей станции;
* Поддерживает любые Linux-дистрибутивы, простая настройка VM;
* Не предназначена для масштабирования большого кластера, но отлично подходит для тестов.

Для Linux-тестирования можно развернуть несколько VM с Ubuntu, Debian, Fedora, CentOS, Arch и т.д.
Возможность снэпшотов и откатов, чтобы быстро тестировать изменения в разных дистрибутивах.
Высокая производительность при использовании KVM и VirtIO драйверов.

# Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. 
Если бы у вас был выбор, создавали бы вы гетерогенную среду или нет?

Возможные проблемы и недостатки:
1. Сложное управление:
Разные панели управления, разные API и инструменты резервного копирования, мониторинга и автоматизации.
2. Повышенные требования к персоналу:
Администраторы должны знать несколько платформ, что увеличивает сложность обучения и риск ошибок.
3. Совместимость и переносимость VM:
Миграция VM между гипервизорами сложная или невозможная без конверсии форматов (например, VMDK → VHD → QCOW2).
4. Сложности с резервным копированием и восстановлением:
Разные решения резервного копирования для разных гипервизоров; увеличивается вероятность потери данных.
5. Разные политики безопасности и обновлений:
Каждая система обновляется и патчится отдельно; сложнее соблюдать единые стандарты безопасности.
6. Снижение эффективности ресурсов:
Балансировка нагрузки и распределение ресурсов между разными гипервизорами затруднено.
7. Рост затрат на поддержку:
Несмотря на бесплатные гипервизоры, время и ресурсы администрирования повышаются.

Что необходимо сделать для минимизации рисков:
1. Стандартизировать процессы:
Общие политики резервного копирования, мониторинга, управления VM.
Единые процедуры запуска, миграции, snapshot’ов.
2. Использовать совместимые форматы VM:
Например, OVF/OVA для обмена между гипервизорами.
3. Централизованное управление и мониторинг:
Использовать системы, которые поддерживают мульти-гипервизорный мониторинг (Zabbix, Grafana, vROps).
4. Документировать инфраструктуру:
Чёткие схемы топологии, версий гипервизоров, используемых VM.
5. Обучение персонала:
Убедиться, что администраторы знают особенности всех гипервизоров.
6. План резервного копирования:
Учитывать специфику каждого гипервизора, чтобы при сбое можно было восстановить критические VM.

Если бы у меня был выбор, я старался бы избегать гетерогенной среды, особенно в продакшене.

